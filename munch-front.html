<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Munchkin</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js"></script>
<style>
    body {
    overflow: hidden;
    background-image: url(public/img/фон.jpg);
    background-size: 100%;
   }
    #box1 {
    background: #aace28; /* Цвет фона */
    padding: 10px; /* Поля */
    border: 2px solid #000; /* Параметры рамки */
    }
    #box2 {
    background: rgb(42, 207, 212); /* Цвет фона */
    width: 500px; /* Ширина блока */
    padding: 10px; /* Поля */
    margin-top: 10px; /* Отступ сверху */
    border: 2px solid #000; /* Параметры рамки */
    -moz-box-sizing: border-box; /* Для Firefox */
    box-sizing: border-box; /* Ширина блока с полями */
	}
   #PLAYER_BOX{
    border: 15px solid darkorange;
    width: 200px;
  	padding: 150px;
  	margin-top: 5%;
  	display: inline-block;
   }
   #PLAYER_BOX2{
    border: 15px solid darkorange;
    width: 200px;
  	padding: 150px;
  	display: inline-block;
   }

   .door{
   	margin-left: auto;
   }
   img{
   	vertical-align: middle;
   	width: 200px;
	height:250px;
   	margin-top: -200px;
   	margin-left: 35%;
   }
   .name_{
    border: 5px solid darkorange;
    margin-left: 65%;
    margin-top: -10%;
    height: 40px;
    width: 250px;
  	padding: 5px;

   }
   .lvl-damage{
    border: 5px solid darkorange;
    margin-left: 65%;
    margin-top: auto;
    height: 40px;
    width: 250px;
  	padding: 5px;
   }
   .table{
   	background-image: url(public/img/стол.jpg);
   	background-size: 100%;
   	border: 10px solid darkorange;
   	padding: 150px;
   	height: 60px;
   	width: 200px;
   	margin-left: 60%;
   	margin-top: -40%;
   }
   .ontable{
   	border: 10px solid darkred;
   	padding: 54px;
   	width: 393px;
   	height: 60px;
   	margin-left: 60%;
   	margin-top: -10%;
   }
   .shrift {
   font-family: 'Tenor Sans', sans-serif;
   font-size: 26px;
   color: #FFF8DC;
   letter-spacing: 2px;
   line-height: 1.4em;
   text-transform: uppercase;
   margin-bottom: 0;
}

</style>
</head>

<body>
<h1 style="color: darkgoldenrod;" align = "center">Munchkin</h1>
<button class="button-1" >Начать игру</button>
<form action="/munchkin_set_password" method="post">
  <input  placeholder="set password" name = pass>
  <button type="submit" id="open_room">open room</button>
</form>
<div>
  <p>Players - <span id ="players"></span></p>
  <form  method="post" onsubmit="return false;">
    <input type="text" name="nick" id="name_" placeholder="Введите ник"> <button type="submit" name="button" onclick="Send_nick($('#name_').val())" >Задать ник</button>
  </form>
</div>
<!--PLAYERSBOX-->

    <div>
        <p><span id="box1"><span id="name1">Name1</span></span></p>
        <p><span id="box2"></span></p>
    </div>

    <div>
    <p><span id="box1">Name2</span></p>
    <p><span id="box2"></span></p>
    </div>

<!--END-->



<img src="public/gold/Сокровище.png" >
<img onclick="GetDoor()" src="public/brown/Дверь.png" class="door">
    <!--MAIN_PLAYER-->
    <div>
        <div id="PLAYER_BOX"></div>
        <div id="PLAYER_BOX2"></div>
    </div>

<div class="name_ shrift" id="player_name">Name</div>
<div class="lvl-damage shrift">LVL - <span id="lvl"></span> </div>
<div class="lvl-damage shrift">Damage - <span id="damage"></span> </div>
<div>
<div class="table"> <span id="stol" ></span> </div>
<div class="ontable"></div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/3.1.0/socket.io.js"></script>
<script>
// $("button").click(function( event ) {
//   event.preventDefault();
// });
// $(function () {
  var socket = io.connect('/');

  socket.on('players_in_room',function (players) {
    $('#players').text(players);
  });
  socket.on('new_card',function (card) {
      $('#stol').text(card.type+", "+card.level+", "+card.damage);
  });
  socket.on('set_nick', function (pl) {
    pl.forEach((item, i) => {
      if (item.id == socket.id) {
        $('#player_name').text(item.name);
        $('#lvl').text(item.level);
        $('#damage').text(item.damage);
      };
    });
  });
  function Send_nick(nick) {
    socket.emit('Send_nick_',nick);
    console.log(nick);
  }
  function GetDoor() {
    socket.emit('get_door')
  }


</script>
</body>
</html>
